# Railway deploy config. See https://docs.railway.app/guides/config-as-code
# When using the Dockerfile, do NOT set startCommand here: Railway runs it without a shell,
# so $PORT is not expanded and uvicorn gets the literal "$PORT". The Dockerfile CMD uses
# sh -c "exec uvicorn ... --port ${PORT:-8000}" so PORT is expanded correctly.
# Do NOT set builder = "nixpacks" â€” use the Dockerfile for fast, slim builds.

[deploy]
# startCommand left unset so Dockerfile CMD is used (shell expands $PORT)
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 3
